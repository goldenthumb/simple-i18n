{"version":3,"file":"index.umd.js","sources":["../src/index.js"],"sourcesContent":["export default class SimpleI18n {\n    constructor({ fallbackLocales = ['en'], locale = 'en', messages }) {\n        this._fallbackLocales = fallbackLocales;\n        this._locale = locale;\n        this._messages = { ...messages };\n    }\n\n    getLocale() {\n        return this._locale;\n    }\n\n    setLocale(locale) {\n        this._locale = locale;\n    }\n\n    all() {\n        return { ...this._messages };\n    }\n\n    messages(locale = this._locale) {\n        return { ...this._messages[locale] };\n    }\n\n    message(key, templates = {}) {\n        let message = this._findMessage(key);\n        if (!message) return key;\n\n        for (const [key, value] of Object.entries(templates)) {\n            message = message.split(`{{${key}}}`).join(value);\n        }\n        \n        return message;\n    }\n\n    _findMessage(key) {\n        for (const fallback of [this._locale, ...this._fallbackLocales]) {\n            if (hasOwn(this._messages[fallback], key)) {\n                return this._messages[fallback][key];\n            }\n        }\n\n        return undefined;\n    }\n}\n\nfunction hasOwn(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}"],"names":["SimpleI18n","constructor","_fallbackLocales","fallbackLocales","_locale","locale","_messages","Object","messages","hasOwn","obj","key","prototype","hasOwnProperty","call","getLocale","this","setLocale","all","message","templates","_findMessage","entries","const","split","join","value","fallback"],"mappings":"yKAAe,IAAMA,EACjBC,mDAAgC,CAAC,qCAAgB,4BACxCC,iBAAmBC,OACnBC,QAAUC,OACVC,UAAYC,iBAAKC,IAyC9B,SAASC,EAAOC,EAAKC,UACVJ,OAAOK,UAAUC,eAAeC,KAAKJ,EAAKC,sBAvCjDI,4BACWC,KAAKZ,qBAGhBa,mBAAUZ,QACDD,QAAUC,eAGnBa,sBACWX,iBAAKS,KAAKV,wBAGrBE,kBAASH,yBAASW,KAAKZ,SACZG,iBAAKS,KAAKV,UAAUD,iBAG/Bc,iBAAQR,EAAKS,kBAAY,QACjBD,EAAUH,KAAKK,aAAaV,OAC3BQ,EAAS,OAAOR,gBAEMJ,OAAOe,QAAQF,mBAAY,CAAjDG,2BACDJ,EAAUA,EAAQK,WAAWb,YAASc,KAAKC,UAGxCP,eAGXE,sBAAaV,iBACc,CAACK,KAAKZ,gBAAYY,KAAKd,kCAAmB,CAA5DqB,IAAMI,UACHlB,EAAOO,KAAKV,UAAUqB,GAAWhB,UAC1BK,KAAKV,UAAUqB,GAAUhB"}